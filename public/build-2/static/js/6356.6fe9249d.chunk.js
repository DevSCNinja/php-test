"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[6356],{56356:(e,t,n)=>{n.r(t),n.d(t,{default:()=>At});var l=n(66607),s=n(88094),a=n(83107),i=n(91073),o=n(89720),r=n(90844),c=n(84178),d=n(78497),u=n(19054),m=n(71815),h=n(78298),p=n(73678),x=n(12214),f=n(3339),b=n.n(f);const g=(0,x.zD)("notesApp/labels/getLabels",(async()=>{const e=await b().get("/api/notes/labels");return await e.data})),j=(0,x.zD)("notesApp/labels/createLabel",(async e=>{const t=await b().post("/api/notes/labels",e);return await t.data})),A=(0,x.zD)("notesApp/labels/updateLabel",(async e=>{const t=await b().put(`/api/notes/labels/${e.id}`,e);return await t.data})),y=(0,x.zD)("notesApp/labels/removeLabel",(async e=>{const t=await b().delete(`/api/notes/labels/${e}`);return await t.data})),v=(0,x.pU)({}),{selectAll:C,selectEntities:w,selectById:N}=v.getSelectors((e=>e.notesApp.labels)),k=(0,x.Z0)({name:"notesApp/labels",initialState:v.getInitialState({labelsDialogOpen:!1}),reducers:{openLabelsDialog:(e,t)=>{e.labelsDialogOpen=!0},closeLabelsDialog:(e,t)=>{e.labelsDialogOpen=!1}},extraReducers:{[g.fulfilled]:v.setAll,[A.fulfilled]:v.upsertOne,[y.fulfilled]:v.removeOne,[j.fulfilled]:v.addOne}}),{openLabelsDialog:S,closeLabelsDialog:D}=k.actions,z=e=>{let{notesApp:t}=e;return t.labels.labelsDialogOpen},I=k.reducer;var O=n(4676),P=n(26751),T=n(47637),E=n(89418),L=n(62189),F=n(52977),V=n(93209),R=n(96915),M=n(4464),$=n(98231);const H=function(e){return e=e||{},T.A.defaults(e,{title:""})};var q=n(15678);const U={title:""},W=M.Ik().shape({title:M.Yj().required("You must enter a label title")});const Y=function(e){const t=(0,a.wA)(),{control:n,formState:l,handleSubmit:s,reset:i}=(0,P.mN)({mode:"onChange",defaultValues:U,resolver:(0,O.t)(W)}),{isValid:o,dirtyFields:r,errors:c}=l;return(0,q.jsx)("form",{onSubmit:s((function(e){const n=H(e);t(j(n)),i(U)})),children:(0,q.jsx)(V.Ay,{className:"p-0 mb-16",dense:!0,children:(0,q.jsx)(P.xI,{name:"title",control:n,render:e=>{var t;let{field:n}=e;return(0,q.jsx)(E.A,{...n,className:(0,R.A)("flex flex-1"),error:!!c.title,helperText:null===c||void 0===c||null===(t=c.title)||void 0===t?void 0:t.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,q.jsx)(F.A,{position:"start",children:(0,q.jsx)($.A,{color:"action",children:"heroicons-outline:tag"})}),endAdornment:(0,q.jsx)(F.A,{position:"end",children:(0,q.jsx)(L.A,{className:"w-32 h-32 p-0","aria-label":"Delete",disabled:T.A.isEmpty(r)||!o,type:"submit",size:"large",children:(0,q.jsx)($.A,{color:"action",size:20,children:"heroicons-outline:check"})})})}})}})})})};var B=n(15747);const _=M.Ik().shape({title:M.Yj().required("You must enter a label title")});const Z=function(e){const{label:t}=e,n=(0,a.wA)(),{control:l,formState:i,handleSubmit:o,reset:r,watch:c}=(0,P.mN)({mode:"onChange",defaultValues:t,resolver:(0,O.t)(_)}),{isValid:d,dirtyFields:u,errors:m}=i,h=c();(0,s.useEffect)((()=>{r(t)}),[t,r]);const p=(0,B.d7)(((e,t)=>{e&&h&&!T.A.isEqual(t,e)&&n(A(t))}),300);function x(){n(y(t.id))}return(0,s.useEffect)((()=>{p(t,h)}),[p,t,h]),(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(V.Ay,{className:"p-0 mb-16",dense:!0,children:(0,q.jsx)(P.xI,{name:"title",control:l,render:e=>{var t;let{field:n}=e;return(0,q.jsx)(E.A,{...n,className:(0,R.A)("flex flex-1"),error:!!m.title,helperText:null===m||void 0===m||null===(t=m.title)||void 0===t?void 0:t.message,placeholder:"Create new label",variant:"outlined",InputProps:{startAdornment:(0,q.jsx)(F.A,{position:"start",children:(0,q.jsx)($.A,{color:"action",children:"heroicons-outline:tag"})}),endAdornment:(0,q.jsx)(F.A,{position:"end",children:(0,q.jsx)(L.A,{onClick:x,className:"w-32 h-32 p-0","aria-label":"Delete",size:"large",children:(0,q.jsx)($.A,{color:"action",size:20,children:"heroicons-outline:trash"})})})}})}})})})};const G=function(e){const t=(0,a.wA)(),n=(0,a.d4)(z),l=(0,a.d4)(C);return(0,q.jsxs)(m.A,{classes:{paper:"w-full max-w-320 p-24 md:p-40 m-24"},onClose:e=>t(D()),open:n,children:[(0,q.jsx)(h.A,{className:"text-20 mb-24 font-semibold",children:"Edit Labels"}),(0,q.jsxs)(p.A,{dense:!0,children:[(0,q.jsx)(Y,{}),l.map((e=>(0,q.jsx)(Z,{label:e},e.id)))]})]})};var K=n(47821),J=n(22887);const Q=(0,x.zD)("notesApp/notes/getNotes",(async e=>{const{filter:t,id:n}=e;let l;"labels"===e.filter&&(l=`/api/notes/labels/${n}`),"archive"===e.filter&&(l="/api/notes/archive"),"reminders"===e.filter&&(l="/api/notes/reminders"),e.filter||(l="/api/notes");const s=await b().get(l);return await s.data})),X=(0,x.zD)("notesApp/notes/createNote",(async e=>{const t=await b().post("/api/notes",e);return await t.data})),ee=(0,x.zD)("notesApp/notes/updateNote",(async e=>{const t=await b().put(`/api/notes/${e.id}`,e);return await t.data})),te=(0,x.zD)("notesApp/notes/removeNote",(async(e,t)=>{let{dispatch:n,getState:l}=t;const s=await b().delete(`/api/notes/${e}`),a=await s.data;return n(ue()),a})),ne=(0,x.pU)({}),{selectAll:le,selectEntities:se,selectById:ae}=ne.getSelectors((e=>e.notesApp.notes)),ie=(0,x.Z0)({name:"notesApp/notes",initialState:ne.getInitialState({searchText:"",noteDialogId:null,variateDescSize:!0}),reducers:{setNotesSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})},resetNotesSearchText:(e,t)=>{e.searchText=""},toggleVariateDescSize:(e,t)=>{e.variateDescSize=!e.variateDescSize},openNoteDialog:(e,t)=>{e.noteDialogId=t.payload},closeNoteDialog:(e,t)=>{e.noteDialogId=t.null}},extraReducers:{[Q.fulfilled]:ne.setAll,[X.fulfilled]:ne.addOne,[ee.fulfilled]:ne.upsertOne,[te.fulfilled]:ne.removeOne}}),{setNotesSearchText:oe,resetNotesSearchText:re,toggleVariateDescSize:ce,openNoteDialog:de,closeNoteDialog:ue}=ie.actions,me=e=>{let{notesApp:t}=e;return t.notes.variateDescSize},he=e=>{let{notesApp:t}=e;return t.notes.searchText},pe=(0,J.Mz)([e=>{let{notesApp:t}=e;return t.notes.noteDialogId},se],((e,t)=>t[e])),xe=ie.reducer;var fe=n(17398),be=n(76880),ge=n(82327),je=n(20081),Ae=n(78505),ye=n(85271),ve=n(15719),Ce=n(8073);const we=function(e){return e=e||{},T.A.defaults(e,{id:Ce.A.generateGUID(),content:"",completed:!1})},Ne={content:""},ke=M.Ik().shape({content:M.Yj().required("You must enter a label title")});const Se=function(e){const{control:t,formState:n,handleSubmit:l,reset:s}=(0,P.mN)({mode:"onChange",defaultValues:Ne,resolver:(0,O.t)(ke)}),{isValid:a,dirtyFields:i,errors:o}=n;return(0,q.jsx)("form",{onSubmit:l((function(t){e.onListItemAdd(we(t)),s(Ne)})),children:(0,q.jsx)(V.Ay,{className:"p-0",dense:!0,children:(0,q.jsx)(P.xI,{name:"content",control:t,render:e=>{var t;let{field:n}=e;return(0,q.jsx)(E.A,{...n,className:"flex flex-1",error:!!o.content,helperText:null===o||void 0===o||null===(t=o.content)||void 0===t?void 0:t.message,placeholder:"Add an item",variant:"standard",autoFocus:!0,hiddenLabel:!0,InputProps:{disableUnderline:!0,className:"px-2",startAdornment:(0,q.jsx)(F.A,{position:"start",children:(0,q.jsx)(L.A,{className:"w-32 h-32 p-0 -mx-6","aria-label":"Add",type:"submit",disabled:T.A.isEmpty(i)||!a,size:"large",children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:plus"})})})}})}})})})};var De=n(96285);const ze=function(e){function t(t){e.onListItemChange(T.A.setIn(e.item,t.target.name,"checkbox"===t.target.type?t.target.checked:t.target.value))}return e.item?(0,q.jsxs)(V.Ay,{className:"p-0",dense:!0,children:[(0,q.jsx)(De.A,{className:"p-0",checked:e.item.completed,tabIndex:-1,disableRipple:!0,name:"completed",onChange:t,color:"default"}),(0,q.jsx)(je.A,{className:(0,R.A)("flex flex-1 mx-8",e.item.completed&&"line-through opacity-50"),name:"text",value:e.item.content,onChange:t,disableUnderline:!0}),(0,q.jsx)(L.A,{className:"w-32 h-32 mx-4 p-0","aria-label":"Delete",onClick:()=>e.onListItemRemove(e.item.id),size:"large",children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:trash"})})]},e.item.id):null};const Ie=function(e){function t(t){e.onCheckListChange(e.tasks.map((e=>e.id===t.id?t:e)))}function n(t){e.onCheckListChange(e.tasks.filter((e=>e.id!==t)))}return e.tasks?(0,q.jsx)("div",{className:e.className,children:(0,q.jsxs)(p.A,{dense:!0,children:[e.tasks.map((e=>(0,q.jsx)(ze,{item:e,onListItemChange:t,onListItemRemove:n},e.id))),(0,q.jsx)(Se,{onListItemAdd:function(t){e.onCheckListChange([...e.tasks,t])}})]})}):null};var Oe=n(25801),Pe=n(99435),Te=n(65521);const Ee=function(e){const t=(0,a.d4)(C),[n,l]=(0,s.useState)(null);function i(){l(null)}return(0,q.jsxs)("div",{children:[(0,q.jsx)(L.A,{className:"w-32 h-32 mx-4 p-0",onClick:function(e){e.stopPropagation(),l(e.currentTarget)},size:"large",children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:tag"})}),(0,q.jsx)(Te.Ay,{hideBackdrop:!0,open:Boolean(n),anchorEl:n,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},className:"pointer-events-none",classes:{paper:"pointer-events-auto py-8 prevent-add-close"},children:(0,q.jsx)(Oe.A,{onClickAway:i,children:(0,q.jsx)(p.A,{className:"p-0",children:t.map((t=>(0,q.jsxs)(V.Ay,{button:!0,dense:!0,onClick:()=>{return n=t.id,void e.onChange(T.A.xor(e.note.labels,[n]));var n},children:[(0,q.jsx)($.A,{className:"list-item-icon",size:20,color:"action",children:e.note.labels.includes(t.id)?"heroicons-outline:check-circle":"heroicons-outline:minus-circle"}),(0,q.jsx)(Pe.A,{className:"truncate px-8",primary:t.title,disableTypography:!0})]},t.id)))})})})]})};var Le=n(15993);const Fe=function(e){const t=new Date(e.reminder);return(0,q.jsx)(Le.K,{clearable:!0,showTodayButton:!0,disablePast:!0,value:t,onChange:e.onChange,renderInput:e=>(0,q.jsx)(E.A,{sx:{"& .MuiInputAdornment-root":{minWidth:40,minHeight:40,m:0},"& .MuiOutlinedInput-notchedOutline":{display:"none"},"& .MuiOutlinedInput-root":{padding:0},"& .MuiInputBase-input":{position:"absolute",pointerEvents:"none",visibility:"hidden"}},...e}),components:{OpenPickerIcon:()=>(0,q.jsx)($.A,{size:20,children:"heroicons-outline:bell"})}})};const Ve=function(e){return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)("label",{htmlFor:"button-file",children:[(0,q.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:function(t){const n=t.target.files[0];if(!n)return;const l=new FileReader;l.readAsBinaryString(n),l.onload=()=>{e.onChange&&e.onChange(`data:${n.type};base64,${btoa(l.result)}`)},l.onerror=()=>{console.log("error on load image")}}}),(0,q.jsx)(L.A,{className:"w-32 h-32 mx-4 p-0",component:"span",size:"large",children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:photograph"})})]})})};const Re=function(e){return e=e||{},T.A.defaults(e,{title:"",content:"",tasks:[],image:"",reminder:null,labels:[],archived:!1,createdAt:null,updatedAt:null})};var Me=n(4929);const $e=function(e){return e.date?(0,q.jsx)(Me.A,{icon:(0,q.jsx)($.A,{size:16,children:"heroicons-outline:clock"}),label:(0,ve.A)(new Date(e.date),"MMM dd yy, h:mm"),classes:{root:(0,R.A)("h-24 border-0",e.className),label:"px-12 py-4 text-12 font-medium leading-none",deleteIcon:"w-16",...e.classes},sx:{color:"text.secondary",backgroundColor:e=>(0,o.e$)(e.palette.background.default,.03)},variant:"outlined",onDelete:e.onDelete}):null};var He=n(78689);const qe=function(e){const t=(0,a.d4)(w);if(!t)return null;const n=t[e.id];if(!n)return null;const l=e.linkable?{element:He.N_,onClick:e=>{e.stopPropagation()},to:`/apps/notes/labels/${n.id}`}:{};return(0,q.jsx)(Me.A,{...l,label:n.title,classes:{root:(0,R.A)("h-24 border-0",e.className),label:"px-12 py-4 text-12 font-medium leading-none",deleteIcon:"w-16",...e.classes},sx:{color:"text.secondary",backgroundColor:e=>(0,o.e$)(e.palette.background.default,.03)},variant:"outlined",onDelete:e.onDelete})},Ue=M.Ik().shape({title:M.Yj(),content:M.Yj(),image:M.Yj(),tasks:M.YO(),oneOfThemRequired:M.lc().when(["title","content","image","tasks"],{is:(e,t,n,l)=>!e&&!t&&!n&&!l||!!e&&!!t&&!!n&&!!l,then:M.lc().required(""),otherwise:M.lc()})});function We(e){const[t,n]=(0,s.useState)(!1),l=(0,r.g)(),i=((0,a.wA)(),T.A.merge({},Re(),e.note,l.labelId?{labels:[l.labelId]}:null,"archive"===l.id?{archived:!0}:null)),{formState:o,handleSubmit:c,getValues:d,reset:u,watch:m,setValue:p,control:x}=(0,P.mN)({mode:"onChange",defaultValues:i,resolver:(0,O.t)(Ue)}),{isValid:f,dirtyFields:b,errors:g}=o,j=m();function A(t){e.onCreate&&e.onCreate(t)}return(0,s.useEffect)((()=>{e.note&&"new"!==e.variant&&e.onChange&&(T.A.isEqual(e.note,j)||e.onChange(j))}),[j,e,i]),(0,q.jsxs)("div",{className:"flex flex-col w-full",children:[(0,q.jsx)(fe.A,{className:"flex flex-auto w-full max-h-640",children:(0,q.jsxs)("div",{className:"w-full",children:[(0,q.jsx)(P.xI,{name:"image",control:x,defaultValue:"",render:e=>{let{field:{onChange:t,value:n}}=e;return n&&""!==n?(0,q.jsxs)("div",{className:"relative",children:[(0,q.jsx)("img",{src:n,className:"w-full block",alt:"note"}),(0,q.jsx)(ge.A,{className:"absolute right-0 bottom-0 m-8",variant:"extended",size:"small",color:"secondary","aria-label":"Delete Image",type:"button",onClick:()=>t(""),children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:trash"})})]}):null}}),(0,q.jsx)("div",{className:"px-20 my-16",children:(0,q.jsx)(P.xI,{name:"title",control:x,render:e=>{let{field:t}=e;return(0,q.jsx)(je.A,{...t,className:"font-semibold text-14",placeholder:"Title",type:"text",disableUnderline:!0,fullWidth:!0})}})}),(0,q.jsx)("div",{className:"px-20 my-16",children:(0,q.jsx)(P.xI,{name:"content",control:x,render:e=>{let{field:t}=e;return(0,q.jsx)(je.A,{...t,placeholder:"Take a note...",multiline:!0,rows:"4",disableUnderline:!0,fullWidth:!0})}})}),(0,q.jsx)(P.xI,{name:"tasks",control:x,defaultValue:[],render:e=>{let{field:{onChange:n,value:l}}=e;return 0===(null===l||void 0===l?void 0:l.length)&&!t||!l&&!t?null:(0,q.jsx)("div",{className:"px-16",children:(0,q.jsx)(Ie,{tasks:l||[],onCheckListChange:e=>n(e)})})}}),(j.labels||j.reminder||j.createdAt)&&(0,q.jsxs)("div",{className:"flex flex-wrap w-full px-20 my-16 -mx-4",children:[j.reminder&&(0,q.jsx)($e,{className:"mt-4 mx-4",date:j.reminder,onDelete:()=>{p("reminder",null)}}),(0,q.jsx)(P.xI,{name:"labels",control:x,defaultValue:[],render:e=>{let{field:{onChange:t,value:n}}=e;return n?n.map((e=>(0,q.jsx)(qe,{id:e,className:"mt-4 mx-4",onDelete:()=>t(n.filter((t=>t!==e)))},e))):null}}),j.createdAt&&(0,q.jsxs)(h.A,{color:"text.secondary",className:"text-12 mt-8 mx-4",children:["Edited: ",(0,ve.A)(new Date(j.createdAt),"MMM dd yy, h:mm")]})]})]})}),(0,q.jsxs)("div",{className:"flex flex-auto justify-between items-center px-16 pb-12",children:[(0,q.jsxs)("div",{className:"flex items-center",children:[(0,q.jsx)(Ae.A,{title:"Remind me",placement:"bottom",children:(0,q.jsx)("div",{children:(0,q.jsx)(P.xI,{name:"reminder",control:x,defaultValue:[],render:e=>{let{field:{onChange:t,value:n}}=e;return(0,q.jsx)(Fe,{reminder:n,onChange:e=>t(e)})}})})}),(0,q.jsx)(Ae.A,{title:"Add image",placement:"bottom",children:(0,q.jsx)("div",{children:(0,q.jsx)(Ve,{onChange:e=>p("image",e,{shouldDirty:!0,shouldValidate:!0})})})}),(0,q.jsx)(Ae.A,{title:"Add tasks",placement:"bottom",children:(0,q.jsx)(L.A,{className:"w-32 h-32 mx-4 p-0",onClick:()=>n(!t),size:"large",children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:pencil-alt"})})}),(0,q.jsx)(Ae.A,{title:"Change labels",placement:"bottom",children:(0,q.jsx)("div",{children:(0,q.jsx)(Ee,{note:j,onChange:e=>p("labels",e)})})}),(0,q.jsx)(P.xI,{name:"archived",control:x,defaultValue:!1,render:t=>{let{field:{onChange:n,value:l}}=t;return(0,q.jsx)(Ae.A,{title:l?"Unarchive":"Archive",placement:"bottom",children:(0,q.jsx)("div",{children:(0,q.jsx)(L.A,{className:"w-32 h-32 mx-4 p-0",onClick:()=>{n(!l),"new"===e.variant&&setTimeout((()=>A(d())))},size:"large",children:(0,q.jsx)($.A,{size:20,children:l?"heroicons-solid:archive":"heroicons-outline:archive"})})})})}})]}),(0,q.jsx)("div",{className:"flex items-center",children:"new"===e.variant?(0,q.jsx)(be.A,{className:"m-4 p-8",type:"submit",variant:"contained",color:"secondary",size:"small",onClick:c(A),disabled:T.A.isEmpty(b)||!f,children:"Create"}):(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ae.A,{title:"Delete Note",placement:"bottom",children:(0,q.jsx)(L.A,{className:"w-32 h-32 mx-4 p-0",onClick:e.onRemove,size:"large",children:(0,q.jsx)($.A,{size:20,children:"heroicons-outline:trash"})})}),(0,q.jsx)(be.A,{className:"m-4",onClick:e.onClose,variant:"default",children:"Close"})]})})]})]})}We.defaultProps={variant:"edit",note:null};const Ye=(0,ye.A)(We),Be=(0,s.forwardRef)((function(e,t){return(0,q.jsx)(K.A,{direction:"up",ref:t,...e})}));const _e=function(e){const t=(0,a.wA)(),n=(0,r.g)(),l=(0,a.d4)(pe),s=(0,B.d7)((e=>{t(ee(e)).then((()=>{t(Q(n))}))}),600);return l?(0,q.jsx)(m.A,{classes:{paper:"w-full m-24"},TransitionComponent:Be,onClose:e=>t(ue()),open:Boolean(null===l||void 0===l?void 0:l.id),children:(0,q.jsx)(Ye,{note:l,onChange:s,onClose:e=>t(ue()),onRemove:function(){t(te(null===l||void 0===l?void 0:l.id))}})}):null};var Ze=n(26246);const Ge=function(e){const t=(0,a.wA)(),[n,l]=(0,s.useState)(!1);function i(){n&&(l(!1),document.removeEventListener("keydown",o,!1))}function o(e){27===e.keyCode&&i()}return(0,q.jsx)(Ze.A,{className:"flex items-center w-full max-w-512 mt-8 mb-16 min-h-48 shadow shrink-0 cursor-text",children:n?(0,q.jsx)(Oe.A,{onClickAway:function(e){const t=document.querySelector(".prevent-add-close");!!t&&t.contains(e.target)||i()},children:(0,q.jsx)("div",{className:"w-full",children:(0,q.jsx)(Ye,{onCreate:function(e){t(X(e)),i()},variant:"new"})})}):(0,q.jsx)(h.A,{className:"w-full px-16 py-12 text-16 w-full",color:"text.secondary",onClick:function(e){e.stopPropagation(),l(!0),document.addEventListener("keydown",o,!1)},children:"Take a note..."})})};function Ke(e,t){if(null==e)return{};var n,l,s=function(e,t){if(null==e)return{};var n,l,s={},a=Object.keys(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(l=0;l<a.length;l++)n=a[l],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Je.apply(this,arguments)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const tt={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};class nt extends s.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((()=>{this.reCalculateColumnCount()}))):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!==typeof t&&(t={default:parseInt(t)||2});let n=1/0,l=t.default||2;for(let s in t){const a=parseInt(s);a>0&&e<=a&&a<n&&(n=a,l=t[s])}l=Math.max(1,parseInt(l)||1),this.state.columnCount!==l&&this.setState({columnCount:l})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),n=s.Children.toArray(this.props.children);for(let l=0;l<n.length;l++){const s=l%e;t[s]||(t[s]=[]),t[s].push(n[l])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:n}=this.props,l=this.itemsInColumns(),a=100/l.length+"%";let i=n;i&&"string"!==typeof i&&(this.logDeprecated('The property "columnClassName" requires a string'),"undefined"===typeof i&&(i="my-masonry-grid_column"));const o=Xe(Xe(Xe({},e),t),{},{style:Xe(Xe({},t.style),{},{width:a}),className:i});return l.map(((e,t)=>s.createElement("div",Je({},o,{key:t}),e)))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:n,columnClassName:l,columnAttrs:a,column:i,className:o}=e,r=Ke(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let c=o;return"string"!==typeof o&&(this.logDeprecated('The property "className" requires a string'),"undefined"===typeof o&&(c="my-masonry-grid")),s.createElement("div",Je({},r,{className:c}),this.renderColumns())}}nt.defaultProps=tt;const lt=nt;var st=n(88124),at=n(28290);const it={1:{fontSize:14,lineHeight:19},2:{fontSize:18,lineHeight:28},3:{fontSize:24,lineHeight:36},4:{fontSize:36,lineHeight:48},5:{fontSize:48,lineHeight:60}};const ot=function(e,t,n){if(!t)return;t.style.fontSize=null,t.style.lineHeight=null;const l=t.clientWidth;if(0===l)return;if(!n)return;const s=document.createElement("div");let a;s.style.display="inline-block",s.style.fontSize="10px",s.style.fontWeight="600",s.style.lineHeight="10px",s.style.position="absolute",s.style.whiteSpace="pre-wrap",s.style.wordWrap="break-word",s.style.pointerEvents="none",s.style.visibility="hidden",document.body.appendChild(s);const i=e.split(" ").map((e=>(s.textContent=e.toString(),s.clientWidth))),o=Math.max(...i),r=Math.floor(10*l/o);r<18?a=1:r>=18&&r<24?a=2:r>=24&&r<36?a=3:r>=36&&r<48?a=4:r>=48&&(a=5);let{lineHeight:c,fontSize:d}=it[a];s.textContent=e,s.style.width=`${l}px`,s.style.fontSize=`${d}px`,s.style.lineHeight=`${c}px`;const u=s.clientHeight/c;u>4&&u<6?a=4:u>=6&&u<9?a=3:u>=9&&u<11?a=2:u>=11&&(a=1),document.body.removeChild(s),c=it[a].lineHeight,d=it[a].fontSize,t.style.fontSize=`${d}px`,t.style.lineHeight=`${c}px`};const rt=function(e){const t=(0,a.wA)();return(0,q.jsx)(at.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1}},children:(0,q.jsxs)(st.A,{className:(0,R.A)("cursor-pointer",e.className),onClick:()=>t(de(e.note.id)),children:[e.note.image&&""!==e.note.image&&(0,q.jsx)("img",{src:e.note.image,className:"w-full block",alt:"note"}),e.note.title&&""!==e.note.title&&(0,q.jsx)(h.A,{className:"px-20 my-16 text-14 font-semibold",children:e.note.title}),e.note.content&&""!==e.note.content&&(0,q.jsx)(h.A,{className:"px-20 my-16 ",component:"div",children:(0,q.jsx)("div",{className:(0,R.A)("w-full break-words",e.variateDescSize?"font-500":"text-14"),ref:t=>{setTimeout((()=>ot(e.note.content,t,e.variateDescSize)))},children:e.note.content})}),e.note.tasks&&e.note.tasks.length>0&&(0,q.jsx)("ul",{className:"px-20 my-16 flex flex-wrap list-reset",children:e.note.tasks.map((e=>(0,q.jsxs)("li",{className:"flex items-center w-full",children:[(0,q.jsx)($.A,{color:e.completed?"secondary":"disabled",size:20,children:"heroicons-outline:check-circle"}),(0,q.jsx)(h.A,{className:(0,R.A)("truncate mx-8",e.completed&&"line-through"),color:e.completed?"text.secondary":"inherit",children:e.content})]},e.id)))}),(e.note.labels.length>0||e.note.reminder)&&(0,q.jsxs)("div",{className:"px-20 my-16 flex flex-wrap w-full -mx-2",children:[e.note.reminder&&(0,q.jsx)($e,{className:"mt-4 mx-2 max-w-full",date:e.note.reminder}),e.note.labels.map((e=>(0,q.jsx)(qe,{id:e,className:"mt-4 mx-2 max-w-full",linkable:!0},e)))]})]})})};const ct=(0,ye.A)((function(e){const t=(0,a.d4)(le),n=(0,a.d4)(me),l=(0,a.d4)(he),i=(0,r.g)(),[o,c]=(0,s.useState)(null);return(0,s.useEffect)((()=>{t.length>0&&c(function(){const{id:e,labelId:n}=i;let s=t;return 0===l.length||(s=Ce.A.filterArrayByString(s,l)),s}())}),[t,l,i]),o&&0!==o.length?(0,q.jsx)("div",{className:"flex flex-wrap w-full",children:(0,q.jsx)(lt,{breakpointCols:{default:6,1920:5,1600:4,1366:3,1280:4,960:3,600:2,480:1},className:"my-masonry-grid flex w-full",columnClassName:"my-masonry-grid_column flex flex-col p-8",children:o.map((e=>(0,q.jsx)(rt,{note:e,className:"w-full rounded-20 shadow mb-16",variateDescSize:n},e.id)))})}):(0,q.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,q.jsx)(h.A,{color:"text.secondary",variant:"h5",children:"There are no notes!"})})}));var dt=n(44355),ut=n(40316);function mt(e){const t=(0,a.wA)(),n=(0,a.d4)(he);return(0,q.jsx)(ut.A,{component:at.P.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-1 items-center px-16 rounded-full h-40 w-fullsm:max-w-240",placeholder:"Search note",variant:"outlined",fullWidth:!0,startAdornment:(0,q.jsx)(F.A,{position:"start",children:(0,q.jsx)($.A,{color:"disabled",children:"heroicons-solid:search"})}),inputProps:{"aria-label":"Search"},value:n,onChange:e=>t(oe(e))})}mt.defaultProps={trigger:(0,q.jsx)(L.A,{className:"w-64 h-64",size:"large",children:(0,q.jsx)($.A,{children:"heroicons-outline:search"})})};const ht=mt;const pt=function(e){const t=(0,a.wA)(),n=(0,a.d4)(me);return(0,q.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 items-center justify-between p-8 sm:p-24 sm:px-32 relative",children:[(0,q.jsxs)("div",{className:"flex shrink items-center sm:w-224",children:[(0,q.jsx)(dt.A,{lgUp:!0,children:(0,q.jsx)(L.A,{onClick:t=>e.onSetSidebarOpen(!0),"aria-label":"open left sidebar",size:"large",children:(0,q.jsx)($.A,{children:"heroicons-outline:menu"})})}),(0,q.jsx)("div",{className:"flex items-center",children:(0,q.jsx)(h.A,{component:at.P.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Notes"})})]}),(0,q.jsxs)("div",{className:"flex flex-1 w-full sm:w-auto items-center justify-end space-x-12",children:[(0,q.jsx)(Ae.A,{title:"Toggle Variate Description Size",children:(0,q.jsx)(L.A,{onClick:e=>t(ce()),size:"large",children:(0,q.jsx)($.A,{color:n?"action":"disabled",children:"heroicons-solid:switch-vertical"})})}),(0,q.jsx)(ht,{})]})]})};var xt=n(86785);const ft=(0,i.Ay)(V.Ay)((e=>{let{theme:t,active:n}=e;return{color:"inherit!important",textDecoration:"none!important",height:40,width:"100%",borderRadius:20,paddingLeft:16,paddingRight:16,marginBottom:8,fontWeight:500,"&.active":{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, .05)!important":"rgba(255, 255, 255, .1)!important",pointerEvents:"none","& .list-item-icon":{color:t.palette.secondary.main}},"& .list-item-icon":{marginRight:16}}}));const bt=function(e){const t=(0,a.wA)(),n=(0,a.d4)(C);return(0,q.jsx)("div",{className:"px-16 py-24",children:(0,q.jsx)("div",{component:at.P.div,initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:(0,q.jsxs)(p.A,{className:"",children:[(0,q.jsxs)(ft,{button:!0,component:xt.A,to:"/apps/notes",end:!0,activeClassName:"active",children:[(0,q.jsx)($.A,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:pencil-alt"}),(0,q.jsx)(Pe.A,{className:"truncate",primary:"Notes",disableTypography:!0})]}),(0,q.jsxs)(ft,{button:!0,component:xt.A,to:"/apps/notes/reminders",end:!0,activeClassName:"active",children:[(0,q.jsx)($.A,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:bell"}),(0,q.jsx)(Pe.A,{className:"truncate",primary:"Reminders",disableTypography:!0})]}),(0,q.jsxs)(ft,{button:!0,component:xt.A,to:"/apps/notes/archive",activeClassName:"active",children:[(0,q.jsx)($.A,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:archive"}),(0,q.jsx)(Pe.A,{className:"truncate",primary:"Archive",disableTypography:!0})]}),n.map((e=>(0,q.jsxs)(ft,{button:!0,component:xt.A,to:`/apps/notes/labels/${e.id}`,end:!0,activeClassName:"active",children:[(0,q.jsx)($.A,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:tag"}),(0,q.jsx)(Pe.A,{className:"truncate",primary:e.title,disableTypography:!0})]},e.id))),(0,q.jsxs)(ft,{button:!0,onClick:e=>t(S()),children:[(0,q.jsx)($.A,{className:"list-item-icon",color:"disabled",children:"heroicons-outline:pencil"}),(0,q.jsx)(Pe.A,{className:"truncate",primary:"Edit Labels",disableTypography:!0})]})]})})})};const gt=(0,n(73422).HY)({notes:xe,labels:I}),jt=(0,i.Ay)(d.A)((e=>{let{theme:t}=e;return{"& .FusePageCarded-header":{},"& .FusePageCarded-sidebar":{},"& .FusePageCarded-leftSidebar":{}}}));const At=(0,l.A)("notesApp",gt)((function(e){const t=(0,a.wA)(),n=(0,u.A)((e=>e.breakpoints.down("lg"))),[l,i]=(0,s.useState)(!n),d=(0,r.g)();return(0,s.useEffect)((()=>{t(Q(d)),t(g())}),[t,d]),(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(jt,{header:(0,q.jsx)(pt,{onSetSidebarOpen:i}),content:(0,q.jsxs)("div",{className:"flex flex-col w-full items-center p-24",children:[(0,q.jsxs)(c.A,{className:"w-full rounded-16 border p-12 flex flex-col items-center",sx:{backgroundColor:e=>"light"===e.palette.mode?(0,o.a)(e.palette.background.default,.4):(0,o.a)(e.palette.background.default,.02)},children:[(0,q.jsx)(Ge,{}),(0,q.jsx)(ct,{})]}),(0,q.jsx)(_e,{}),(0,q.jsx)(G,{})]}),leftSidebarOpen:l,leftSidebarOnClose:()=>{i(!1)},leftSidebarContent:(0,q.jsx)(bt,{}),scroll:n?"normal":"content"})})}))}}]);
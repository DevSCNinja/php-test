"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[3840],{93840:(e,t,r)=>{r.r(t),r.d(t,{default:()=>W});var a=r(78497),o=r(66607),c=r(19054),n=r(6234),i=r(76880),s=r(20081),l=r(26246),d=r(78298),p=r(28290),u=r(83107),m=r(78689),h=r(98231),x=r(33640),g=r(15678);const A=function(e){const t=(0,u.wA)(),r=(0,u.d4)(x.St);return(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,g.jsx)(d.A,{component:p.P.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Products"}),(0,g.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,g.jsxs)(l.A,{component:p.P.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,g.jsx)(h.A,{color:"disabled",children:"heroicons-solid:search"}),(0,g.jsx)(s.A,{placeholder:"Search products",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:r,inputProps:{"aria-label":"Search"},onChange:e=>t((0,x.kJ)(e))})]}),(0,g.jsx)(p.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,g.jsx)(i.A,{className:"",component:m.N_,to:"/apps/e-commerce/products/new",variant:"contained",color:"secondary",startIcon:(0,g.jsx)(h.A,{children:"heroicons-outline:plus"}),children:"Add"})})]})]})};var f=r(17398),y=r(47637),w=r(96285),b=r(94951),j=r(82532),v=r(34845),C=r(85045),S=r(91026),P=r(96915),k=r(88094),N=r(85271),I=r(19738),T=r(62189),D=r(60979),z=r(99435),R=r(18560),$=r(53237),M=r(83843),O=r(25655),q=r(78505),L=r(50544),B=r(21925),U=r(89720);const Z=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"categories",align:"left",disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",align:"right",disablePadding:!1,label:"Price",sort:!0},{id:"quantity",align:"right",disablePadding:!1,label:"Quantity",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}];const _=function(e){const{selectedProductIds:t}=e,r=t.length,[a,o]=(0,k.useState)(null),c=(0,u.wA)();function n(){o(null)}return(0,g.jsx)(B.A,{children:(0,g.jsxs)(S.A,{className:"h-48 sm:h-64",children:[(0,g.jsxs)(v.A,{sx:{backgroundColor:e=>"light"===e.palette.mode?(0,U.a)(e.palette.background.default,.4):(0,U.a)(e.palette.background.default,.02)},padding:"none",className:"w-40 md:w-64 text-center z-99",children:[(0,g.jsx)(w.A,{indeterminate:r>0&&r<e.rowCount,checked:0!==e.rowCount&&r===e.rowCount,onChange:e.onSelectAllClick}),r>0&&(0,g.jsxs)(L.A,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:e=>e.palette.background.default},children:[(0,g.jsx)(T.A,{"aria-owns":a?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},size:"large",children:(0,g.jsx)(h.A,{children:"heroicons-outline:dots-horizontal"})}),(0,g.jsx)(R.A,{id:"selectedProductsMenu",anchorEl:a,open:Boolean(a),onClose:n,children:(0,g.jsx)(M.A,{children:(0,g.jsxs)($.A,{onClick:()=>{c((0,x.lU)(t)),e.onMenuItemClick(),n()},children:[(0,g.jsx)(D.A,{className:"min-w-40",children:(0,g.jsx)(h.A,{children:"heroicons-outline:trash"})}),(0,g.jsx)(z.A,{primary:"Remove"})]})})})]})]}),Z.map((t=>{return(0,g.jsx)(v.A,{sx:{backgroundColor:e=>"light"===e.palette.mode?(0,U.a)(e.palette.background.default,.4):(0,U.a)(e.palette.background.default,.02)},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,g.jsx)(q.A,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,g.jsx)(O.A,{active:e.order.id===t.id,direction:e.order.direction,onClick:(r=t.id,t=>{e.onRequestSort(t,r)}),className:"font-semibold",children:t.label})})},t.id);var r}),this)]})})};const E=(0,N.A)((function(e){const t=(0,u.wA)(),r=(0,u.d4)(x.VW),a=(0,u.d4)(x.St),[o,c]=(0,k.useState)(!0),[n,i]=(0,k.useState)([]),[s,l]=(0,k.useState)(r),[m,A]=(0,k.useState)(0),[N,T]=(0,k.useState)(10),[D,z]=(0,k.useState)({direction:"asc",id:null});return(0,k.useEffect)((()=>{t((0,x.d$)()).then((()=>c(!1)))}),[t]),(0,k.useEffect)((()=>{0!==a.length?(l(y.A.filter(r,(e=>e.name.toLowerCase().includes(a.toLowerCase())))),A(0)):l(r)}),[r,a]),o?(0,g.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,g.jsx)(I.A,{})}):0===s.length?(0,g.jsx)(p.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,g.jsx)(d.A,{color:"text.secondary",variant:"h5",children:"There are no products!"})}):(0,g.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,g.jsx)(f.A,{className:"grow overflow-x-auto",children:(0,g.jsxs)(b.A,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,g.jsx)(_,{selectedProductIds:n,order:D,onSelectAllClick:function(e){e.target.checked?i(s.map((e=>e.id))):i([])},onRequestSort:function(e,t){const r=t;let a="desc";D.id===t&&"desc"===D.direction&&(a="asc"),z({direction:a,id:r})},rowCount:s.length,onMenuItemClick:function(){i([])}}),(0,g.jsx)(j.A,{children:y.A.orderBy(s,[e=>"categories"===D.id?e.categories[0]:e[D.id]],[D.direction]).slice(m*N,m*N+N).map((t=>{const r=-1!==n.indexOf(t.id);return(0,g.jsxs)(S.A,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,onClick:r=>{return a=t,void e.navigate(`/apps/e-commerce/products/${a.id}/${a.handle}`);var a},children:[(0,g.jsx)(v.A,{className:"w-40 md:w-64 text-center",padding:"none",children:(0,g.jsx)(w.A,{checked:r,onClick:e=>e.stopPropagation(),onChange:e=>function(e,t){const r=n.indexOf(t);let a=[];-1===r?a=a.concat(n,t):0===r?a=a.concat(n.slice(1)):r===n.length-1?a=a.concat(n.slice(0,-1)):r>0&&(a=a.concat(n.slice(0,r),n.slice(r+1))),i(a)}(0,t.id)})}),(0,g.jsx)(v.A,{className:"w-52 px-4 md:px-0",component:"th",scope:"row",padding:"none",children:t.images.length>0&&t.featuredImageId?(0,g.jsx)("img",{className:"w-full block rounded",src:y.A.find(t.images,{id:t.featuredImageId}).url,alt:t.name}):(0,g.jsx)("img",{className:"w-full block rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:t.name})}),(0,g.jsx)(v.A,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.name}),(0,g.jsx)(v.A,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:t.categories.join(", ")}),(0,g.jsxs)(v.A,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[(0,g.jsx)("span",{children:"$"}),t.priceTaxIncl]}),(0,g.jsxs)(v.A,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[t.quantity,(0,g.jsx)("i",{className:(0,P.A)("inline-block w-8 h-8 rounded mx-8",t.quantity<=5&&"bg-red",t.quantity>5&&t.quantity<=25&&"bg-orange",t.quantity>25&&"bg-green")})]}),(0,g.jsx)(v.A,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:t.active?(0,g.jsx)(h.A,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,g.jsx)(h.A,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})})]},t.id)}))})]})}),(0,g.jsx)(C.A,{className:"shrink-0 border-t-1",component:"div",count:s.length,rowsPerPage:N,page:m,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){A(t)},onRowsPerPageChange:function(e){T(e.target.value)}})]})}));const W=(0,o.A)("eCommerceApp",n.A)((function(){const e=(0,c.A)((e=>e.breakpoints.down("lg")));return(0,g.jsx)(a.A,{header:(0,g.jsx)(A,{}),content:(0,g.jsx)(E,{}),scroll:e?"normal":"content"})}))},6234:(e,t,r)=>{r.d(t,{A:()=>s});var a=r(73422),o=r(26954),c=r(36671),n=r(19143),i=r(33640);const s=(0,a.HY)({products:i.Ay,product:n.Ay,orders:c.Ay,order:o.Ay})},26954:(e,t,r)=>{r.d(t,{Ay:()=>p,PE:()=>d,YP:()=>l,r$:()=>n});var a=r(12214),o=r(3339),c=r.n(o);const n=(0,a.zD)("eCommerceApp/order/getOrder",(async e=>{const t=await c().get(`/api/ecommerce/orders/${e}`),r=await t.data;return void 0===r?null:r})),i=(0,a.zD)("eCommerceApp/order/saveOrder",(async e=>{const t=await c().put("/api/ecommerce/orders",e);return await t.data})),s=(0,a.Z0)({name:"eCommerceApp/order",initialState:null,reducers:{resetOrder:()=>null},extraReducers:{[n.fulfilled]:(e,t)=>t.payload,[i.fulfilled]:(e,t)=>t.payload}}),{resetOrder:l}=s.actions,d=e=>{let{eCommerceApp:t}=e;return t.order},p=s.reducer},36671:(e,t,r)=>{r.d(t,{AB:()=>i,Ay:()=>h,BZ:()=>m,WF:()=>n,ZO:()=>u,ee:()=>l});var a=r(12214),o=r(3339),c=r.n(o);const n=(0,a.zD)("eCommerceApp/orders/getOrders",(async()=>{const e=await c().get("/api/ecommerce/orders");return await e.data})),i=(0,a.zD)("eCommerceApp/orders/removeOrders",(async(e,t)=>{let{dispatch:r,getState:a}=t;return await c().delete("/api/ecommerce/orders",{data:e}),e})),s=(0,a.pU)({}),{selectAll:l,selectById:d}=s.getSelectors((e=>e.eCommerceApp.orders)),p=(0,a.Z0)({name:"eCommerceApp/orders",initialState:s.getInitialState({searchText:""}),reducers:{setOrdersSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[n.fulfilled]:s.setAll,[i.fulfilled]:(e,t)=>s.removeMany(e,t.payload)}}),{setOrdersSearchText:u}=p.actions,m=e=>{let{eCommerceApp:t}=e;return t.orders.searchText},h=p.reducer},19143:(e,t,r)=>{r.d(t,{Ay:()=>h,C4:()=>m,Pw:()=>u,Tu:()=>l,_6:()=>p,oo:()=>i,qY:()=>s});var a=r(12214),o=r(3339),c=r.n(o),n=r(8073);const i=(0,a.zD)("eCommerceApp/product/getProduct",(async e=>{const t=await c().get(`/api/ecommerce/products/${e}`),r=await t.data;return void 0===r?null:r})),s=(0,a.zD)("eCommerceApp/product/removeProduct",(async(e,t)=>{let{dispatch:r,getState:a}=t;const{id:o}=a().eCommerceApp.product;return await c().delete(`/api/ecommerce/products/${o}`),o})),l=(0,a.zD)("eCommerceApp/product/saveProduct",(async(e,t)=>{let{dispatch:r,getState:a}=t;const{id:o}=a().eCommerceApp,n=await c().put(`/api/ecommerce/products/${o}`,e);return await n.data})),d=(0,a.Z0)({name:"eCommerceApp/product",initialState:null,reducers:{resetProduct:()=>null,newProduct:{reducer:(e,t)=>t.payload,prepare:e=>({payload:{id:n.A.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0}})}},extraReducers:{[i.fulfilled]:(e,t)=>t.payload,[l.fulfilled]:(e,t)=>t.payload,[s.fulfilled]:(e,t)=>null}}),{newProduct:p,resetProduct:u}=d.actions,m=e=>{let{eCommerceApp:t}=e;return t.product},h=d.reducer},33640:(e,t,r)=>{r.d(t,{Ay:()=>h,St:()=>m,VW:()=>l,d$:()=>n,kJ:()=>u,lU:()=>i});var a=r(12214),o=r(3339),c=r.n(o);const n=(0,a.zD)("eCommerceApp/products/getProducts",(async()=>{const e=await c().get("/api/ecommerce/products");return await e.data})),i=(0,a.zD)("eCommerceApp/products",(async(e,t)=>{let{dispatch:r,getState:a}=t;return await c().delete("/api/ecommerce/products",{data:e}),e})),s=(0,a.pU)({}),{selectAll:l,selectById:d}=s.getSelectors((e=>e.eCommerceApp.products)),p=(0,a.Z0)({name:"eCommerceApp/products",initialState:s.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[n.fulfilled]:s.setAll,[i.fulfilled]:(e,t)=>s.removeMany(e,t.payload)}}),{setProductsSearchText:u}=p.actions,m=e=>{let{eCommerceApp:t}=e;return t.products.searchText},h=p.reducer},25655:(e,t,r)=>{r.d(t,{A:()=>b});var a=r(98587),o=r(58168),c=r(26140),n=r(3610),i=r(88094),s=r(65475),l=r(74559),d=r(15678);const p=(0,l.A)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward");var u=r(91073),m=r(92443),h=r(45036),x=r(56302);function g(e){return(0,x.A)("MuiTableSortLabel",e)}const A=(0,r(11894).A)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),f=["active","children","className","direction","hideSortIcon","IconComponent"],y=(0,u.Ay)(s.A,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.active&&t.active]}})((e=>{let{theme:t}=e;return{cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":{color:(t.vars||t).palette.text.secondary,[`& .${A.icon}`]:{opacity:.5}},[`&.${A.active}`]:{color:(t.vars||t).palette.text.primary,[`& .${A.icon}`]:{opacity:1,color:(t.vars||t).palette.text.secondary}}}})),w=(0,u.Ay)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,t[`iconDirection${(0,h.A)(r.direction)}`]]}})((e=>{let{theme:t,ownerState:r}=e;return(0,o.A)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===r.direction&&{transform:"rotate(0deg)"},"asc"===r.direction&&{transform:"rotate(180deg)"})})),b=i.forwardRef((function(e,t){const r=(0,m.A)({props:e,name:"MuiTableSortLabel"}),{active:i=!1,children:s,className:l,direction:u="asc",hideSortIcon:x=!1,IconComponent:A=p}=r,b=(0,a.A)(r,f),j=(0,o.A)({},r,{active:i,direction:u,hideSortIcon:x,IconComponent:A}),v=(e=>{const{classes:t,direction:r,active:a}=e,o={root:["root",a&&"active"],icon:["icon",`iconDirection${(0,h.A)(r)}`]};return(0,c.A)(o,g,t)})(j);return(0,d.jsxs)(y,(0,o.A)({className:(0,n.A)(v.root,l),component:"span",disableRipple:!0,ownerState:j,ref:t},b,{children:[s,x&&!i?null:(0,d.jsx)(w,{as:A,className:(0,n.A)(v.icon),ownerState:j})]}))}))}}]);
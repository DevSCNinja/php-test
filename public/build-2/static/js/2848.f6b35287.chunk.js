"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[2848],{72848:(e,l,s)=>{s.r(l),s.d(l,{default:()=>fe});var a=s(66607),t=s(88094),n=s(83107),i=s(90844),r=s(91073),o=s(24980),c=s(19054),d=s(89955),m=s(28290),x=s(78298),h=s(60402),u=s(4676),p=s(13802),f=s(76880),j=s(71815),A=s(29610),b=s(8207),g=s(62189),N=s(89418),y=s(57413),v=s(26751),k=s(4464),C=s(47637),w=s(46297),S=s(3964),z=s(88833),E=s.n(z),I=(s(66796),s(96915)),R=s(15678);const M=(0,r.Ay)("div")({"& .rdw-dropdown-selectedtext":{color:"inherit"},"& .rdw-editor-toolbar":{borderWidth:"0 0 1px 0!important",margin:"0!important"},"& .rdw-editor-main":{padding:"8px 12px",height:"256px!important"}}),L=(0,t.forwardRef)(((e,l)=>{const[s,a]=(0,t.useState)(w.EditorState.createEmpty());return(0,R.jsx)(M,{className:(0,I.A)("rounded-4 border-1 overflow-hidden w-full",e.className),ref:l,children:(0,R.jsx)(S.Editor,{editorState:s,onEditorStateChange:function(l){return a(l),e.onChange(E()((0,w.convertToRaw)(l.getCurrentContent())))}})})}));var B=s(98231);const W=(0,r.Ay)("div")({fontSize:13,backgroundColor:"rgba(0, 0, 0, 0.08)",border:"1px solid rgba(0, 0, 0, 0.16)",paddingLeft:16,marginBottom:8,borderRadius:2,display:"flex",justifyContent:"space-between",alignItems:"center","& .filename":{fontWeight:600},"& .size":{marginLeft:8,fontWeight:300}});const O=function(e){return(0,R.jsxs)(W,{className:e.className,children:[(0,R.jsxs)("div",{className:"flex",children:[(0,R.jsx)(x.A,{variant:"caption",className:"filename",children:e.fileName}),(0,R.jsxs)(x.A,{variant:"caption",className:"size",children:["(",e.size,")"]})]}),(0,R.jsx)(g.A,{size:"large",children:(0,R.jsx)(B.A,{size:16,children:"heroicons-outline:x"})})]})},P=k.Ik().shape({to:k.Yj().required("You must enter an e-mail").email("You must enter a valid e-mail.")});const F=function(e){const{className:l}=e,[s,a]=(0,t.useState)(!1),{handleSubmit:n,formState:i,control:r}=(0,v.mN)({mode:"onChange",defaultValues:{from:"johndoe@creapond.com",to:"",cc:"",bcc:"",subject:"",message:""},resolver:(0,u.t)(P)}),{isValid:o,dirtyFields:c,errors:m}=i,{t:h}=(0,d.B)("mailboxApp");return(0,R.jsxs)("div",{className:(0,I.A)("",l),children:[(0,R.jsx)(f.A,{variant:"contained",color:"secondary",className:"w-full",onClick:function(){a(!0)},startIcon:(0,R.jsx)(B.A,{children:"heroicons-outline:plus"}),children:h("COMPOSE")}),(0,R.jsxs)(j.A,{open:s,onClose:function(){a(!1)},"aria-labelledby":"form-dialog-title",scroll:"body",children:[(0,R.jsx)(p.A,{position:"static",color:"secondary",elevation:0,children:(0,R.jsx)(y.A,{className:"flex w-full",children:(0,R.jsx)(x.A,{variant:"subtitle1",color:"inherit",children:"New Message"})})}),(0,R.jsxs)("form",{noValidate:!0,onSubmit:n((function(e){console.info(e),a(!1)})),className:"flex flex-col",children:[(0,R.jsxs)(b.A,{classes:{root:"p-16 pb-0 sm:p-32 sm:pb-0"},children:[(0,R.jsx)(v.xI,{name:"from",control:r,render:e=>{let{field:l}=e;return(0,R.jsx)(N.A,{...l,className:"mt-8 mb-16",label:"From",id:"from",variant:"outlined",fullWidth:!0,inputProps:{readOnly:!0}})}}),(0,R.jsx)(v.xI,{name:"to",control:r,render:e=>{var l;let{field:s}=e;return(0,R.jsx)(N.A,{...s,className:"mt-8 mb-16",label:"To",autoFocus:!0,id:"to",error:!!m.to,helperText:null===m||void 0===m||null===(l=m.to)||void 0===l?void 0:l.message,variant:"outlined",fullWidth:!0,required:!0})}}),(0,R.jsx)(v.xI,{name:"cc",control:r,render:e=>{let{field:l}=e;return(0,R.jsx)(N.A,{...l,className:"mt-8 mb-16",label:"Cc",id:"cc",variant:"outlined",fullWidth:!0})}}),(0,R.jsx)(v.xI,{name:"bcc",control:r,render:e=>{let{field:l}=e;return(0,R.jsx)(N.A,{...l,className:"mt-8 mb-16",label:"Bcc",id:"bcc",name:"bcc",variant:"outlined",fullWidth:!0})}}),(0,R.jsx)(v.xI,{name:"subject",control:r,render:e=>{let{field:l}=e;return(0,R.jsx)(N.A,{...l,className:"mt-8 mb-16",label:"Subject",id:"subject",name:"subject",variant:"outlined",fullWidth:!0})}}),(0,R.jsx)(v.xI,{className:"mt-8 mb-16",render:e=>{let{field:l}=e;return(0,R.jsx)(L,{...l})},name:"message",control:r}),(0,R.jsxs)("div",{className:"pt-8",children:[(0,R.jsx)(O,{fileName:"attachment-2.doc",size:"12 kb"}),(0,R.jsx)(O,{fileName:"attachment-1.jpg",size:"350 kb"})]})]}),(0,R.jsxs)(A.A,{className:"flex flex-col sm:flex-row sm:items-center justify-between py-16 sm:py-24 px-24",children:[(0,R.jsxs)("div",{className:"-mx-8",children:[(0,R.jsx)(g.A,{children:(0,R.jsx)(B.A,{size:20,children:"heroicons-solid:paper-clip"})}),(0,R.jsx)(g.A,{children:(0,R.jsx)(B.A,{size:20,children:"heroicons-solid:link"})}),(0,R.jsx)(g.A,{children:(0,R.jsx)(B.A,{size:20,children:"heroicons-solid:emoji-happy"})}),(0,R.jsx)(g.A,{children:(0,R.jsx)(B.A,{size:20,children:"heroicons-solid:photograph"})})]}),(0,R.jsxs)("div",{className:"flex items-center space-x-8 mt-16 sm:mt-0",children:[(0,R.jsx)(f.A,{className:"",variant:"outlined",color:"secondary",onClick:function(){a(!1)},children:"Discard"}),(0,R.jsx)(f.A,{className:"",variant:"outlined",color:"secondary",children:"Save as draft"}),(0,R.jsx)(f.A,{className:"",variant:"contained",color:"secondary",type:"submit",disabled:C.A.isEmpty(c)||!o,children:"Send"})]})]})]})]})]})};var T=s(13394),D=s(71136),U=s(12694);const _=function(e){const l=(0,n.d4)(D.o8),s=(0,n.d4)(U.IM),a=(0,n.d4)(T.yw),{t:t}=(0,d.B)("mailboxApp");return(0,R.jsxs)(m.P.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1,transition:{delay:.4}},className:"flex-auto border-l-1",children:[(0,R.jsxs)("div",{className:"mb-24 mt-40 mx-24",children:[(0,R.jsx)(x.A,{component:m.P.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-4xl font-extrabold tracking-tight leading-none",children:"Mailbox"}),(0,R.jsx)(F,{className:"mt-32"})]}),(0,R.jsxs)("div",{className:"mb-24",children:[(0,R.jsx)(x.A,{className:"px-28 py-10 uppercase text-12 font-600",color:"secondary.main",children:t("FOLDERS")}),(0,R.jsx)(h.A,{navigation:l.map((e=>({...e,type:"item",url:`/apps/mailbox/${e.slug}`})))})]}),(0,R.jsxs)("div",{className:"mb-24",children:[(0,R.jsx)(x.A,{className:"px-28 py-10 uppercase text-12 font-600",color:"secondary.main",children:t("FILTERS")}),(0,R.jsx)(h.A,{navigation:a.map((e=>({...e,type:"item",url:`/apps/mailbox/filter/${e.slug}`})))})]}),(0,R.jsxs)("div",{className:"mb-24",children:[(0,R.jsx)(x.A,{className:"px-28 py-10 uppercase text-12 font-600",color:"secondary.main",children:t("LABELS")}),(0,R.jsx)(h.A,{navigation:s.map((e=>({...e,type:"item",url:`/apps/mailbox/label/${e.slug}`,icon:"heroicons-outline:tag",sx:{"& > .fuse-list-item-icon":{color:`${e.color}!important`,opacity:.6}}})))})]})]})};var $=s(73422),V=s(45790),Y=s(24651);const q=(0,$.HY)({mails:Y.Ay,mail:V.Ay,folders:D.Ay,labels:U.Ay,filters:T.Ay});var H=s(8073),G=s(73678),J=s(85271),K=s(15747),Q=s(74896),X=s(96285),Z=s(93209),ee=s(86785),le=s(15719);const se=(0,r.Ay)(Z.Ay)((e=>{let{theme:l,unread:s,selected:a}=e;return{background:l.palette.background.default,borderBottom:`1px solid ${l.palette.divider}`,...s&&{background:l.palette.background.paper},"&.selected":{"&::after":{content:'""',position:"absolute",top:0,left:0,display:"block",height:"100%",width:3,backgroundColor:l.palette.primary.main}}}})),ae=(0,J.A)((e=>{var l;const s=(0,n.wA)(),a=(0,n.d4)(Y.Fz),{mail:t}=e,i=a.length>0&&void 0!==a.find((l=>l===e.mail.id));return(0,R.jsxs)(se,{dense:!0,button:!0,component:ee.A,to:e.mail.id,selected:i,unread:e.mail.unread?1:0,className:"items-start py-20 px-0 md:px-8 relative w-full",activeClassName:"selected",children:[(0,R.jsx)(X.A,{tabIndex:-1,disableRipple:!0,checked:i,onChange:()=>s((0,Y.l4)(e.mail.id)),onClick:e=>e.stopPropagation(),size:"small"}),(0,R.jsxs)("div",{className:"flex flex-col flex-auto min-w-0",children:[(0,R.jsxs)("div",{className:"flex w-full space-x-6 items-center",children:[(0,R.jsx)(Q.A,{sx:{backgroundColor:e=>e.palette.primary[500]},alt:e.mail.from.name,src:null===(l=e.mail.from)||void 0===l?void 0:l.avatar,children:e.mail.from.contact}),(0,R.jsxs)("div",{className:"flex flex-col w-full min-w-0",children:[(0,R.jsxs)("div",{className:"flex items-center w-full",children:[(0,R.jsx)(x.A,{className:"mr-8 font-semibold truncate",children:t.from.contact.split("<")[0].trim()}),t.important&&(0,R.jsx)(B.A,{className:"mr-12 text-red-500 dark:text-red-600",size:16,children:"heroicons-solid:exclamation-circle"}),(0,R.jsx)(x.A,{className:"ml-auto text-md text-right whitespace-nowrap",color:"text.secondary",children:(0,le.A)(new Date(t.date),"LLL dd")})]}),(0,R.jsxs)("div",{className:"flex items-center w-full mt-4",children:[(0,R.jsx)("span",{className:"leading-4 truncate",children:t.subject}),(t.attachments&&t.attachments.length>0||t.starred)&&(0,R.jsxs)("div",{className:"flex ml-auto pl-8",children:[(0,R.jsx)(B.A,{className:"",size:16,children:"heroicons-solid:paper-clip"}),t.starred&&(0,R.jsx)(B.A,{className:"flex justify-center ml-4 text-orange-500 dark:text-orange-400",size:16,children:"heroicons-solid:star"})]})]})]})]}),(0,R.jsx)(x.A,{color:"text.secondary",className:"mt-8 leading-normal line-clamp-2",children:C.A.truncate(e.mail.content.replace(/<(?:.|\n)*?>/gm,""),{length:180})})]})]})}));const te=(0,J.A)((function(e){const l=(0,n.wA)(),s=(0,n.d4)(Y.Pw),a=(0,n.d4)(Y.As),r=(0,i.g)(),[o,c]=(0,t.useState)(null),{t:h}=(0,d.B)("mailboxApp");return(0,K.Ij)((()=>{l((0,Y.l)(r))}),[l,r]),(0,t.useEffect)((()=>{s&&c(0===a.length?s:H.A.filterArrayByString(s,a))}),[s,a]),o?0===o.length?(0,R.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center p-24",children:[(0,R.jsx)(B.A,{className:"icon-size-128 mb-16",color:"disabled",size:24,children:"heroicons-outline:mail-open"}),(0,R.jsx)(x.A,{className:"mt-16 text-2xl font-semibold tracking-tight",color:"text.secondary",children:h("NO_MESSAGES")})]}):(0,R.jsx)(G.A,{className:"p-0 w-full",children:o.map((e=>(0,R.jsx)(ae,{mail:e},e.id)))}):null}));var ne=s(18560),ie=s(78505),re=s(53237),oe=s(50544),ce=s(52977),de=s(40316),me=s(44355);const xe=function(){const e=(0,i.g)(),l=(0,n.d4)((0,Y.Nf)(e));return(0,R.jsx)(x.A,{className:"font-semibold uppercase mx-8",children:l})};const he=function(e){const{onToggleLeftSidebar:l}=e,s=(0,n.wA)(),a=(0,n.d4)(Y.Pw),i=(0,n.d4)(U.IM),r=(0,n.d4)(D.o8),o=(0,n.d4)(Y.As),{t:c}=(0,d.B)("mailboxApp"),m=(0,n.d4)(Y.Fz),x=(0,n.d4)(D.eI),[h,u]=(0,t.useState)({selectMenu:null,foldersMenu:null,labelsMenu:null});function p(e,l){u({...l,[l]:e.currentTarget})}function f(e,l){u({...l,[l]:null})}return(0,R.jsxs)("div",{className:"sticky top-0 z-10",children:[(0,R.jsxs)(oe.A,{sx:{backgroundColor:"background.default"},className:"flex flex-col sm:flex-row items-center w-full min-h-64 py-12 sm:py-0 space-x-8 px-8 border-b ",children:[(0,R.jsxs)("div",{className:"flex items-center",children:[(0,R.jsx)(me.A,{lgUp:!0,children:(0,R.jsx)(g.A,{onClick:e=>l(),"aria-label":"open left sidebar",size:"small",children:(0,R.jsx)(B.A,{children:"heroicons-outline:menu"})})}),(0,R.jsx)(xe,{})]}),(0,R.jsx)(de.A,{className:"flex flex-1 items-center px-16 rounded-full",variant:"outlined",fullWidth:!0,placeholder:c("SEARCH_PLACEHOLDER"),value:o,onChange:e=>s((0,Y.KJ)(e)),startAdornment:(0,R.jsx)(ce.A,{position:"start",children:(0,R.jsx)(B.A,{color:"disabled",children:"heroicons-solid:search"})}),inputProps:{"aria-label":"Search"},size:"small"})]}),(0,R.jsxs)(oe.A,{className:"flex items-center w-full min-h-56 px-8 border-b space-x-8",sx:{backgroundColor:"background.paper"},children:[(0,R.jsx)(X.A,{onChange:function(e){return e.target.checked?s((0,Y.UR)()):s((0,Y.nM)())},checked:m.length===Object.keys(a).length&&m.length>0,indeterminate:m.length!==Object.keys(a).length&&m.length>0,size:"small"}),(0,R.jsx)(g.A,{className:"",size:"small","aria-label":"More","aria-owns":h.select?"select-menu":null,"aria-haspopup":"true",onClick:e=>p(e,"select"),children:(0,R.jsx)(B.A,{size:16,children:"heroicons-outline:chevron-down"})}),(0,R.jsxs)(ne.A,{id:"select-menu",anchorEl:h.select,open:Boolean(h.select),onClose:e=>f(0,"select"),children:[(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.UR)()),f(0,"select")},children:"All"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.nM)()),f(0,"select")},children:"None"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.Ny)(["unread",!1])),f(0,"select")},children:"Read"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.Ny)(["unread",!0])),f(0,"select")},children:"Unread"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.Ny)(["starred",!0])),f(0,"select")},children:"Starred"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.Ny)(["starred",!1])),f(0,"select")},children:"Unstarred"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.Ny)(["important",!0])),f(0,"select")},children:"Important"}),(0,R.jsx)(re.A,{onClick:e=>{s((0,Y.Ny)(["important",!1])),f(0,"select")},children:"Unimportant"})]}),m.length>0&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:"border-r-1 h-32 w-1 mx-12 my-0"}),(0,R.jsx)(ie.A,{title:"Delete",children:(0,R.jsx)(g.A,{onClick:e=>{s((0,Y.cR)({type:"folder",value:x,ids:m}))},"aria-label":"Delete",size:"small",children:(0,R.jsx)(B.A,{children:"heroicons-outline:trash"})})}),(0,R.jsx)(ie.A,{title:"Move to folder",children:(0,R.jsx)(g.A,{"aria-label":"More","aria-owns":h.folders?"folders-menu":null,"aria-haspopup":"true",onClick:e=>p(e,"folders"),size:"small",children:(0,R.jsx)(B.A,{children:"heroicons-outline:folder"})})}),(0,R.jsx)(ne.A,{id:"folders-menu",anchorEl:h.folders,open:Boolean(h.folders),onClose:e=>f(0,"folders"),children:r.length>0&&r.map((e=>(0,R.jsx)(re.A,{onClick:l=>{s((0,Y.cR)({type:"folder",value:e.id,ids:m})),f(0,"folders")},children:e.title},e.id)))}),(0,R.jsx)(ie.A,{title:"Add label",children:(0,R.jsx)(g.A,{"aria-label":"label","aria-owns":h.labels?"labels-menu":null,"aria-haspopup":"true",onClick:e=>p(e,"labels"),size:"small",children:(0,R.jsx)(B.A,{children:"heroicons-outline:tag"})})}),(0,R.jsx)(ne.A,{id:"labels-menu",anchorEl:h.labels,open:Boolean(h.labels),onClose:e=>f(0,"labels"),children:i.length>0&&i.map((e=>(0,R.jsx)(re.A,{onClick:l=>{s((0,Y.cR)({type:"label",value:e.id,ids:m})),f(0,"labels")},children:e.title},e.id)))}),(0,R.jsx)(ie.A,{title:"Mark as unread",children:(0,R.jsx)(g.A,{onClick:e=>{s((0,Y.cR)({type:"unread",value:!0,ids:m}))},"aria-label":"Mark as unread",size:"small",children:(0,R.jsx)(B.A,{className:"",children:"heroicons-outline:mail"})})}),(0,R.jsx)(ie.A,{title:"Set important",children:(0,R.jsx)(g.A,{onClick:e=>{s((0,Y.cR)({type:"important",value:!0,ids:m}))},"aria-label":"important",size:"small",children:(0,R.jsx)(B.A,{className:"text-red-600 dark:text-red-500",children:"heroicons-outline:exclamation-circle"})})}),(0,R.jsx)(ie.A,{title:"Set starred",children:(0,R.jsx)(g.A,{onClick:e=>{s((0,Y.cR)({type:"starred",value:!0,ids:m}))},"aria-label":"important",size:"small",children:(0,R.jsx)(B.A,{className:"text-orange-500 dark:text-red-400",children:"heroicons-outline:star"})})})]})]})]})};const ue=function(e){return(0,R.jsxs)("div",{className:"flex flex-col w-full",children:[(0,R.jsx)(he,{onToggleLeftSidebar:e.onToggleLeftSidebar}),(0,R.jsx)(te,{})]})},pe=(0,r.Ay)(o.A)((e=>{let{theme:l}=e;return{"& .FusePageSimple-rightSidebar":{flex:"1",[l.breakpoints.down("lg")]:{minWidth:"100%"}},"& .FusePageSimple-contentWrapper":{[l.breakpoints.up("lg")]:{maxWidth:400}}}}));const fe=(0,a.A)("mailboxApp",q)((function(e){const l=(0,n.wA)(),s=(0,c.A)((e=>e.breakpoints.down("lg"))),[a,r]=(0,t.useState)(!s),[o,d]=(0,t.useState)(!s),m=(0,i.g)(),{mailId:x}=m,h=(0,i.zy)();return(0,t.useEffect)((()=>{l((0,T.gA)()),l((0,D.aq)()),l((0,U.IV)())}),[l]),(0,t.useEffect)((()=>{d(!s||Boolean(x))}),[x,s]),(0,t.useEffect)((()=>{r(!s)}),[s]),(0,t.useEffect)((()=>{s&&r(!1)}),[h,s]),(0,R.jsx)(pe,{content:(0,R.jsx)(ue,{onToggleLeftSidebar:()=>r(!a)}),leftSidebarContent:(0,R.jsx)(_,{}),leftSidebarOpen:a,leftSidebarOnClose:()=>r(!1),leftSidebarWidth:288,scroll:s?"normal":"content",rightSidebarContent:(0,R.jsx)(i.sv,{}),rightSidebarOpen:o,rightSidebarOnClose:()=>d(!1)})}))}}]);
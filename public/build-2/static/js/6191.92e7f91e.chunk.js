"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[6191],{66191:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var n=a(24980),s=a(66607),r=a(88094),c=a(83107),l=a(90844),o=a(15747),i=a(91073),d=a(19054),m=a(86785),x=a(62189),u=a(98231),p=a(15678);const h=function(e){return(0,c.wA)(),(0,p.jsxs)("div",{className:"flex flex-col flex-auto",children:[(0,p.jsx)(x.A,{className:"absolute top-0 right-0 my-16 mx-32 z-10",sx:{color:"white"},component:m.A,to:"/apps/contacts",size:"large",children:(0,p.jsx)(u.A,{children:"heroicons-outline:x"})}),(0,p.jsx)(l.sv,{})]})};var f=a(20081),A=a(78298),y=a(28290),g=a(76880),j=a(50544),v=a(12214),b=a(22887),S=a(3339),N=a.n(S),w=a(8073),I=a(32102);const C=(0,v.zD)("contactsApp/contacts/getContacts",(async(e,t)=>{let{getState:a}=t;const n=await N().get("/api/contacts");return{data:await n.data}})),k=(0,v.pU)({}),P=e=>{let{contactsApp:t}=e;return t.contacts.searchText},{selectAll:T,selectById:z}=k.getSelectors((e=>e.contactsApp.contacts)),F=(0,b.Mz)([T,P],((e,t)=>0===t.length?e:w.A.filterArrayByString(e,t))),M=(0,b.Mz)([F],(e=>e.sort(((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"}))).reduce(((e,t)=>{const a=t.name[0];return e[a]?e[a].children.push(t):e[a]={group:a,children:[t]},e}),{}))),O=(0,v.Z0)({name:"contactsApp/contacts",initialState:k.getInitialState({searchText:""}),reducers:{setContactsSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[I.CI.fulfilled]:k.upsertOne,[I.IP.fulfilled]:k.addOne,[I.no.fulfilled]:(e,t)=>k.removeOne(e,t.payload),[C.fulfilled]:(e,t)=>{const{data:a,routeParams:n}=t.payload;k.setAll(e,a),e.searchText=""}}}),{setContactsSearchText:L}=O.actions,R=O.reducer;const _=function(e){const t=(0,c.wA)(),a=(0,c.d4)(P),n=(0,c.d4)(F);return(0,p.jsxs)("div",{className:"p-24 sm:p-32 w-full border-b-1",children:[(0,p.jsxs)("div",{className:"flex flex-col items-center sm:items-start",children:[(0,p.jsx)(A.A,{component:y.P.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Contacts"}),(0,p.jsx)(A.A,{component:y.P.span,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},delay:500,className:"text-14 font-medium ml-2",color:"text.secondary",children:`${n.length} contacts`})]}),(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center mt-16 -mx-8",children:[(0,p.jsxs)(j.A,{component:y.P.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-1 w-full sm:w-auto items-center px-16 mx-8 border-1 rounded-full",children:[(0,p.jsx)(u.A,{color:"action",size:20,children:"heroicons-outline:search"}),(0,p.jsx)(f.A,{placeholder:"Search contacts",className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:e=>t(L(e))})]}),(0,p.jsxs)(g.A,{className:"mx-8",variant:"contained",color:"secondary",component:m.A,to:"new/edit",children:[(0,p.jsx)(u.A,{size:20,children:"heroicons-outline:plus"}),(0,p.jsx)("span",{className:"mx-8",children:"Add"})]})]})]})};var B=a(73678),W=a(46521),U=a(74896),$=a(93209),D=a(48788),E=a(99435);const H=function(e){const{contact:t}=e;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)($.Ay,{className:"px-32 py-16",sx:{bgcolor:"background.paper"},button:!0,component:m.A,to:`/apps/contacts/${t.id}`,children:[(0,p.jsx)(D.A,{children:(0,p.jsx)(U.A,{alt:t.name,src:t.avatar})}),(0,p.jsx)(E.A,{classes:{root:"m-0",primary:"font-medium leading-5 truncate"},primary:t.name,secondary:(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(A.A,{className:"inline",component:"span",variant:"body2",color:"text.secondary",children:t.title})})})]}),(0,p.jsx)(W.A,{})]})};const Q=function(e){const t=(0,c.d4)(F),a=(0,c.d4)(M);return t?0===t.length?(0,p.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,p.jsx)(A.A,{color:"text.secondary",variant:"h5",children:"There are no contacts!"})}):(0,p.jsx)(y.P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-col flex-auto w-full max-h-full",children:Object.entries(a).map((e=>{let[t,a]=e;return(0,p.jsxs)("div",{className:"relative",children:[(0,p.jsx)(A.A,{color:"text.secondary",className:"px-32 py-4 text-14 font-medium",children:t}),(0,p.jsx)(W.A,{}),(0,p.jsx)(B.A,{className:"w-full m-0 p-0",children:a.children.map((e=>(0,p.jsx)(H,{contact:e},e.id)))})]},t)}))}):null};var X=a(73422),Y=a(27783),Z=a(24036);const q=(0,X.HY)({tags:Y.Ay,countries:Z.Ay,contacts:R,contact:I.Ay}),G=(0,i.Ay)(n.A)((e=>{let{theme:t}=e;return{"& .FusePageSimple-header":{backgroundColor:t.palette.background.paper}}}));const J=(0,s.A)("contactsApp",q)((function(e){const t=(0,c.wA)(),a=(0,r.useRef)(null),n=(0,l.g)(),[s,i]=(0,r.useState)(!1),m=(0,d.A)((e=>e.breakpoints.down("lg")));return(0,o.Ij)((()=>{t(C()),t((0,Z.X6)()),t((0,Y.Q2)())}),[t]),(0,r.useEffect)((()=>{i(Boolean(n.id))}),[n]),(0,p.jsx)(G,{header:(0,p.jsx)(_,{pageLayout:a}),content:(0,p.jsx)(Q,{}),ref:a,rightSidebarContent:(0,p.jsx)(h,{}),rightSidebarOpen:s,rightSidebarOnClose:()=>i(!1),rightSidebarWidth:640,scroll:m?"normal":"content"})}))},48788:(e,t,a)=>{a.d(t,{A:()=>f});var n=a(98587),s=a(58168),r=a(88094),c=a(3610),l=a(26140),o=a(53916),i=a(91073),d=a(92443),m=a(56302);function x(e){return(0,m.A)("MuiListItemAvatar",e)}(0,a(11894).A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var u=a(15678);const p=["className"],h=(0,i.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,"flex-start"===a.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,s.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),f=r.forwardRef((function(e,t){const a=(0,d.A)({props:e,name:"MuiListItemAvatar"}),{className:i}=a,m=(0,n.A)(a,p),f=r.useContext(o.A),A=(0,s.A)({},a,{alignItems:f.alignItems}),y=(e=>{const{alignItems:t,classes:a}=e,n={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,l.A)(n,x,a)})(A);return(0,u.jsx)(h,(0,s.A)({className:(0,c.A)(y.root,i),ownerState:A,ref:t},m))}))}}]);
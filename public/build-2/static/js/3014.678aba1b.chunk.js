"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[3014],{3014:(e,t,r)=>{r.r(t),r.d(t,{default:()=>V});var a=r(19738),n=r(78497),s=r(15747),l=r(76880),o=r(87369),i=r(33358),c=r(78298),d=r(66607),m=r(28290),u=r(88094),p=r(83107),x=r(90844),h=r(78689),f=r(47637),j=r(26751),A=r(4676),g=r(4464),y=r(19054),v=r(19143),w=r(6234),b=r(34057),I=r(98231),N=r(15678);const C=function(e){const t=(0,p.wA)(),r=(0,j.xW)(),{formState:a,watch:n,getValues:s}=r,{isValid:o,dirtyFields:i}=a,d=n("featuredImageId"),u=n("images"),A=n("name"),g=(0,b.A)(),y=(0,x.Zp)();return(0,N.jsxs)("div",{className:"flex flex-col sm:flex-row flex-1 w-full items-center justify-between space-y-8 sm:space-y-0 py-32 px-24 md:px-32",children:[(0,N.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 w-full sm:max-w-full min-w-0",children:[(0,N.jsx)(m.P.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,N.jsxs)(c.A,{className:"flex items-center sm:mb-12",component:h.N_,role:"button",to:"/apps/e-commerce/products",color:"inherit",children:[(0,N.jsx)(I.A,{size:20,children:"ltr"===g.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,N.jsx)("span",{className:"flex mx-4 font-medium",children:"Products"})]})}),(0,N.jsxs)("div",{className:"flex items-center max-w-full",children:[(0,N.jsx)(m.P.div,{className:"hidden sm:flex",initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:u.length>0&&d?(0,N.jsx)("img",{className:"w-32 sm:w-48 rounded",src:f.A.find(u,{id:d}).url,alt:A}):(0,N.jsx)("img",{className:"w-32 sm:w-48 rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:A})}),(0,N.jsxs)(m.P.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:[(0,N.jsx)(c.A,{className:"text-16 sm:text-20 truncate font-semibold",children:A||"New Product"}),(0,N.jsx)(c.A,{variant:"caption",className:"font-medium",children:"Product Detail"})]})]})]}),(0,N.jsxs)(m.P.div,{className:"flex",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.3}},children:[(0,N.jsx)(l.A,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",onClick:function(){t((0,v.qY)()).then((()=>{y("/apps/e-commerce/products")}))},startIcon:(0,N.jsx)(I.A,{className:"hidden sm:flex",children:"heroicons-outline:trash"}),children:"Remove"}),(0,N.jsx)(l.A,{className:"whitespace-nowrap mx-4",variant:"contained",color:"secondary",disabled:f.A.isEmpty(i)||!o,onClick:function(){t((0,v.Tu)(s()))},children:"Save"})]})]})};var P=r(89418),S=r(46211);const T=function(e){const t=(0,j.xW)(),{control:r,formState:a}=t,{errors:n}=a;return(0,N.jsxs)("div",{children:[(0,N.jsx)(j.xI,{name:"name",control:r,render:e=>{var t;let{field:r}=e;return(0,N.jsx)(P.A,{...r,className:"mt-8 mb-16",error:!!n.name,required:!0,helperText:null===n||void 0===n||null===(t=n.name)||void 0===t?void 0:t.message,label:"Name",autoFocus:!0,id:"name",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"description",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",id:"description",label:"Description",type:"text",multiline:!0,rows:5,variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"categories",control:r,defaultValue:[],render:e=>{let{field:{onChange:t,value:r}}=e;return(0,N.jsx)(S.A,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:[],value:r,onChange:(e,r)=>{t(r)},renderInput:e=>(0,N.jsx)(P.A,{...e,placeholder:"Select multiple categories",label:"Categories",variant:"outlined",InputLabelProps:{shrink:!0}})})}}),(0,N.jsx)(j.xI,{name:"tags",control:r,defaultValue:[],render:e=>{let{field:{onChange:t,value:r}}=e;return(0,N.jsx)(S.A,{className:"mt-8 mb-16",multiple:!0,freeSolo:!0,options:[],value:r,onChange:(e,r)=>{t(r)},renderInput:e=>(0,N.jsx)(P.A,{...e,placeholder:"Select multiple tags",label:"Tags",variant:"outlined",InputLabelProps:{shrink:!0}})})}})]})};const W=function(e){const t=(0,j.xW)(),{control:r}=t;return(0,N.jsxs)("div",{children:[(0,N.jsx)(j.xI,{name:"sku",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",required:!0,label:"SKU",autoFocus:!0,id:"sku",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"quantity",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Quantity",id:"quantity",variant:"outlined",type:"number",fullWidth:!0})}})]})};var F=r(52977);const k=function(e){const t=(0,j.xW)(),{control:r}=t;return(0,N.jsxs)("div",{children:[(0,N.jsx)(j.xI,{name:"priceTaxExcl",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Tax Excluded Price",id:"priceTaxExcl",InputProps:{startAdornment:(0,N.jsx)(F.A,{position:"start",children:"$"})},type:"number",variant:"outlined",autoFocus:!0,fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"priceTaxIncl",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Tax Included Price",id:"priceTaxIncl",InputProps:{startAdornment:(0,N.jsx)(F.A,{position:"start",children:"$"})},type:"number",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"taxRate",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Tax Rate",id:"taxRate",InputProps:{startAdornment:(0,N.jsx)(F.A,{position:"start",children:"$"})},type:"number",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"comparedPrice",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Compared Price",id:"comparedPrice",InputProps:{startAdornment:(0,N.jsx)(F.A,{position:"start",children:"$"})},type:"number",variant:"outlined",fullWidth:!0,helperText:"Add a compare price to show next to the real price"})}})]})};var D=r(93385),$=r(91073),O=r(89720),z=r(96915),E=r(8073),R=r(84178);const q=(0,$.Ay)("div")((e=>{let{theme:t}=e;return{"& .productImageFeaturedStar":{position:"absolute",top:0,right:0,color:D.A[400],opacity:0},"& .productImageUpload":{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut},"& .productImageItem":{transitionProperty:"box-shadow",transitionDuration:t.transitions.duration.short,transitionTimingFunction:t.transitions.easing.easeInOut,"&:hover":{"& .productImageFeaturedStar":{opacity:.8}},"&.featured":{pointerEvents:"none",boxShadow:t.shadows[3],"& .productImageFeaturedStar":{opacity:1},"&:hover .productImageFeaturedStar":{opacity:1}}}}}));const U=function(e){const t=(0,j.xW)(),{control:r,watch:a}=t,n=a("images");return(0,N.jsx)(q,{children:(0,N.jsxs)("div",{className:"flex justify-center sm:justify-start flex-wrap -mx-16",children:[(0,N.jsx)(j.xI,{name:"images",control:r,render:e=>{let{field:{onChange:t,value:r}}=e;return(0,N.jsxs)(R.A,{sx:{backgroundColor:e=>"light"===e.palette.mode?(0,O.a)(e.palette.background.default,.4):(0,O.a)(e.palette.background.default,.02)},component:"label",htmlFor:"button-file",className:"productImageUpload flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer shadow hover:shadow-lg",children:[(0,N.jsx)("input",{accept:"image/*",className:"hidden",id:"button-file",type:"file",onChange:async e=>{const a=await new Promise(((t,r)=>{const a=e.target.files[0];if(!a)return;const n=new FileReader;n.onload=()=>{t({id:E.A.generateGUID(),url:`data:${a.type};base64,${btoa(n.result)}`,type:"image"})},n.onerror=r,n.readAsBinaryString(a)}));t([a,...r])}}),(0,N.jsx)(I.A,{size:32,color:"action",children:"heroicons-outline:upload"})]})}}),(0,N.jsx)(j.xI,{name:"featuredImageId",control:r,defaultValue:"",render:e=>{let{field:{onChange:t,value:r}}=e;return n.map((e=>(0,N.jsxs)("div",{onClick:()=>t(e.id),onKeyDown:()=>t(e.id),role:"button",tabIndex:0,className:(0,z.A)("productImageItem flex items-center justify-center relative w-128 h-128 rounded-16 mx-12 mb-24 overflow-hidden cursor-pointer outline-none shadow hover:shadow-lg",e.id===r&&"featured"),children:[(0,N.jsx)(I.A,{className:"productImageFeaturedStar",children:"heroicons-solid:star"}),(0,N.jsx)("img",{className:"max-w-none w-auto h-full",src:e.url,alt:"product"})]},e.id)))}})]})})};const _=function(e){const t=(0,j.xW)(),{control:r}=t;return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"flex -mx-4",children:[(0,N.jsx)(j.xI,{name:"width",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16 mx-4",label:"Width",autoFocus:!0,id:"width",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"height",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16 mx-4",label:"Height",id:"height",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"depth",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16 mx-4",label:"Depth",id:"depth",variant:"outlined",fullWidth:!0})}})]}),(0,N.jsx)(j.xI,{name:"weight",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Weight",id:"weight",variant:"outlined",fullWidth:!0})}}),(0,N.jsx)(j.xI,{name:"extraShippingFee",control:r,render:e=>{let{field:t}=e;return(0,N.jsx)(P.A,{...t,className:"mt-8 mb-16",label:"Extra Shipping Fee",id:"extraShippingFee",variant:"outlined",InputProps:{startAdornment:(0,N.jsx)(F.A,{position:"start",children:"$"})},fullWidth:!0})}})]})},B=g.Ik().shape({name:g.Yj().required("You must enter a product name").min(5,"The product name must be at least 5 characters")});const V=(0,d.A)("eCommerceApp",w.A)((function(e){const t=(0,p.wA)(),r=(0,p.d4)(v.C4),d=(0,y.A)((e=>e.breakpoints.down("lg"))),g=(0,x.g)(),[w,b]=(0,u.useState)(0),[I,P]=(0,u.useState)(!1),S=(0,j.mN)({mode:"onChange",defaultValues:{},resolver:(0,A.t)(B)}),{reset:F,watch:D,control:$,onChange:O,formState:z}=S,E=D();return(0,s.Ij)((()=>{!function(){const{productId:e}=g;"new"===e?t((0,v._6)()):t((0,v.oo)(e)).then((e=>{e.payload||P(!0)}))}()}),[t,g]),(0,u.useEffect)((()=>{r&&F(r)}),[r,F]),(0,u.useEffect)((()=>()=>{t((0,v.Pw)()),P(!1)}),[t]),I?(0,N.jsxs)(m.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-col flex-1 items-center justify-center h-full",children:[(0,N.jsx)(c.A,{color:"text.secondary",variant:"h5",children:"There is no such product!"}),(0,N.jsx)(l.A,{className:"mt-24",component:h.N_,variant:"outlined",to:"/apps/e-commerce/products",color:"inherit",children:"Go to Products Page"})]}):f.A.isEmpty(E)||r&&g.productId!==r.id&&"new"!==g.productId?(0,N.jsx)(a.A,{}):(0,N.jsx)(j.Op,{...S,children:(0,N.jsx)(n.A,{header:(0,N.jsx)(C,{}),content:(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(i.A,{value:w,onChange:function(e,t){b(t)},indicatorColor:"secondary",textColor:"secondary",variant:"scrollable",scrollButtons:"auto",classes:{root:"w-full h-64 border-b-1"},children:[(0,N.jsx)(o.A,{className:"h-64",label:"Basic Info"}),(0,N.jsx)(o.A,{className:"h-64",label:"Product Images"}),(0,N.jsx)(o.A,{className:"h-64",label:"Pricing"}),(0,N.jsx)(o.A,{className:"h-64",label:"Inventory"}),(0,N.jsx)(o.A,{className:"h-64",label:"Shipping"})]}),(0,N.jsxs)("div",{className:"p-16 sm:p-24 max-w-3xl",children:[(0,N.jsx)("div",{className:0!==w?"hidden":"",children:(0,N.jsx)(T,{})}),(0,N.jsx)("div",{className:1!==w?"hidden":"",children:(0,N.jsx)(U,{})}),(0,N.jsx)("div",{className:2!==w?"hidden":"",children:(0,N.jsx)(k,{})}),(0,N.jsx)("div",{className:3!==w?"hidden":"",children:(0,N.jsx)(W,{})}),(0,N.jsx)("div",{className:4!==w?"hidden":"",children:(0,N.jsx)(_,{})})]})]}),scroll:d?"normal":"content"})})}))},6234:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(73422),n=r(26954),s=r(36671),l=r(19143),o=r(33640);const i=(0,a.HY)({products:o.Ay,product:l.Ay,orders:s.Ay,order:n.Ay})},26954:(e,t,r)=>{r.d(t,{Ay:()=>m,PE:()=>d,YP:()=>c,r$:()=>l});var a=r(12214),n=r(3339),s=r.n(n);const l=(0,a.zD)("eCommerceApp/order/getOrder",(async e=>{const t=await s().get(`/api/ecommerce/orders/${e}`),r=await t.data;return void 0===r?null:r})),o=(0,a.zD)("eCommerceApp/order/saveOrder",(async e=>{const t=await s().put("/api/ecommerce/orders",e);return await t.data})),i=(0,a.Z0)({name:"eCommerceApp/order",initialState:null,reducers:{resetOrder:()=>null},extraReducers:{[l.fulfilled]:(e,t)=>t.payload,[o.fulfilled]:(e,t)=>t.payload}}),{resetOrder:c}=i.actions,d=e=>{let{eCommerceApp:t}=e;return t.order},m=i.reducer},36671:(e,t,r)=>{r.d(t,{AB:()=>o,Ay:()=>x,BZ:()=>p,WF:()=>l,ZO:()=>u,ee:()=>c});var a=r(12214),n=r(3339),s=r.n(n);const l=(0,a.zD)("eCommerceApp/orders/getOrders",(async()=>{const e=await s().get("/api/ecommerce/orders");return await e.data})),o=(0,a.zD)("eCommerceApp/orders/removeOrders",(async(e,t)=>{let{dispatch:r,getState:a}=t;return await s().delete("/api/ecommerce/orders",{data:e}),e})),i=(0,a.pU)({}),{selectAll:c,selectById:d}=i.getSelectors((e=>e.eCommerceApp.orders)),m=(0,a.Z0)({name:"eCommerceApp/orders",initialState:i.getInitialState({searchText:""}),reducers:{setOrdersSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[l.fulfilled]:i.setAll,[o.fulfilled]:(e,t)=>i.removeMany(e,t.payload)}}),{setOrdersSearchText:u}=m.actions,p=e=>{let{eCommerceApp:t}=e;return t.orders.searchText},x=m.reducer},19143:(e,t,r)=>{r.d(t,{Ay:()=>x,C4:()=>p,Pw:()=>u,Tu:()=>c,_6:()=>m,oo:()=>o,qY:()=>i});var a=r(12214),n=r(3339),s=r.n(n),l=r(8073);const o=(0,a.zD)("eCommerceApp/product/getProduct",(async e=>{const t=await s().get(`/api/ecommerce/products/${e}`),r=await t.data;return void 0===r?null:r})),i=(0,a.zD)("eCommerceApp/product/removeProduct",(async(e,t)=>{let{dispatch:r,getState:a}=t;const{id:n}=a().eCommerceApp.product;return await s().delete(`/api/ecommerce/products/${n}`),n})),c=(0,a.zD)("eCommerceApp/product/saveProduct",(async(e,t)=>{let{dispatch:r,getState:a}=t;const{id:n}=a().eCommerceApp,l=await s().put(`/api/ecommerce/products/${n}`,e);return await l.data})),d=(0,a.Z0)({name:"eCommerceApp/product",initialState:null,reducers:{resetProduct:()=>null,newProduct:{reducer:(e,t)=>t.payload,prepare:e=>({payload:{id:l.A.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0}})}},extraReducers:{[o.fulfilled]:(e,t)=>t.payload,[c.fulfilled]:(e,t)=>t.payload,[i.fulfilled]:(e,t)=>null}}),{newProduct:m,resetProduct:u}=d.actions,p=e=>{let{eCommerceApp:t}=e;return t.product},x=d.reducer},33640:(e,t,r)=>{r.d(t,{Ay:()=>x,St:()=>p,VW:()=>c,d$:()=>l,kJ:()=>u,lU:()=>o});var a=r(12214),n=r(3339),s=r.n(n);const l=(0,a.zD)("eCommerceApp/products/getProducts",(async()=>{const e=await s().get("/api/ecommerce/products");return await e.data})),o=(0,a.zD)("eCommerceApp/products",(async(e,t)=>{let{dispatch:r,getState:a}=t;return await s().delete("/api/ecommerce/products",{data:e}),e})),i=(0,a.pU)({}),{selectAll:c,selectById:d}=i.getSelectors((e=>e.eCommerceApp.products)),m=(0,a.Z0)({name:"eCommerceApp/products",initialState:i.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:(e,t)=>{e.searchText=t.payload},prepare:e=>({payload:e.target.value||""})}},extraReducers:{[l.fulfilled]:i.setAll,[o.fulfilled]:(e,t)=>i.removeMany(e,t.payload)}}),{setProductsSearchText:u}=m.actions,p=e=>{let{eCommerceApp:t}=e;return t.products.searchText},x=m.reducer}}]);